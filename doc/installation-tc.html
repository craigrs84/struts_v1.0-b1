<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html><head><meta name="author" content="Craig R. McClanahan"><title>The Struts Framework Project - Installation - Tomcat with Apache</title></head><body bgcolor="#ffffff" text="#000000" link="#023264" alink="#023264" vlink="#023264"><table border="0" width="100%" cellspacing="5"><tr><td colspan="2"><a href="http://jakarta.apache.org"><img src="images/jakarta-logo.gif" align="left" border="0"></a><img src="images/struts.gif" align="right" border="0"></td></tr><tr><td colspan="2"><hr></td></tr><tr><td width="120" valign="top"><project href="http://jakarta.apache.org/struts" image="images/struts.gif" name="Struts Framework">      <title>Struts Framework</title>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Documentation</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="index.html">Home</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="installation.html">Installation</a></font></td></tr>  <tr><td align="center" width="15"></td><td><font size="-1"><a href="userGuide/index.html">User Guide (1.0)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/index.html">Javadoc</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="release.html">Release Notes (1.0b1)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="userGuide/resources.html">Resources</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="todo-1.1.html">TODO List (1.1)</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Java Developer Guides</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/digester/package-summary.html#package_description">Digester</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/util/package-summary.html#package_description">Utilities</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Tag Library Guides</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/bean/package-summary.html#package_description">Bean Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/html/package-summary.html#package_description">HTML Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/logic/package-summary.html#package_description">Logic Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/template/package-summary.html#package_description">Template Tags</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Tag Library Reference</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-bean.html">Bean Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-html.html">HTML Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-logic.html">Logic Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-template.html">Template Tags</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Old Documents</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="tags.html">Tag Library (Old)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="users_guide.html">User's Guide (Old)</a></font></td></tr>     </table>  </project></td><td valign="top"><body>  <a name="Containers"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>Installing Struts with your servlet container</strong></font></td></tr><tr><td><blockquote>  <h3><a name="tc321">Tomcat 3.2.1 With Apache</a></h3> <p>Note that the instructions for Tomcat 4 will be different than those for Tomcat 3,  but the Tomcat 4.0 web connector is still under development. Versions of Tomcat prior  to 3.2.1 are not recommend for use with Struts.<br></p> <ul>   <li>These instructions assume you have successfully integrated Tomcat with Apache      according to the Tomcat documentation.   <li>Copy &quot;struts-documentation.war&quot; and &quot;struts-example.war&quot; to your $TOMCAT_HOME/webapps      directory   <li>Restart Tomcat if it is already running   <li>Tomcat will generate a file &quot;$TOMCAT_HOME/conf/tomcat-apache.conf&quot; that      will be used by Apache. This file is regenerated every time you start Tomcat,      so copy this file to a safe place (such as your Apache configuration directory;      on Unix systems this is usually <code>/usr/local/apache/conf</code>.   <li>If you are running Tomcat 3.1, Tomcat will not have generated the entries      for your new applications. Add the following lines to the <code>tomcat-apache.conf</code>      file that you have saved, replacing $TOMCAT_HOME with the path to your Tomcat      home directory: </ul> <pre>
Alias /struts-documentation &quot;$TOMCAT_HOME/webapps/struts-documentation
  &lt;Directory &quot;$TOMCAT_HOME/webapps/struts-documentation&gt;
    Options Indexes FollowSymLinks
  &lt;/Directory&gt;
    ApJServMount /struts-documentation/servlet /struts-documentation
  &lt;Location &quot;/struts-documentation/WEB-INF/&quot;&gt;
    AllowOverride None
    deny from all
  &lt;/Location&gt;
Alias /struts-example &quot;$TOMCAT_HOME/webapps/struts-example&quot;
  &lt;Directory &quot;$TOMCAT_HOME/webapps/struts-example&gt;
    Options Indexes FollowSymLinks
  &lt;/Directory&gt;
    ApJServMount /struts-example/servlet /struts-example
  &lt;Location &quot;/struts-example/WEB-INF/&quot;&gt;
    AllowOverride None
    deny from all
  &lt;/Location&gt;
</pre> <ul>   <li>The generated file above does not know anything      about extension mappings defined in a web.xml file, so the &quot;*.do&quot; URIs that      go to the controller servlet will not be recognized. To fix this, add the      following line to the saved version of &quot;tomcat-apache.conf&quot;, after the corresponding      line for the .jsp extension:<br>     <code>AddHandler jserv-servlet .do</code>   <li>Ensure that the saved version of &quot;tomcat-apache.conf&quot; is referenced in your      Apache &quot;httpd.conf&quot; configuration file. A typical use would have the following      line at the bottom of &quot;httpd.conf&quot;:<br>     <code>Include /usr/local/apache/conf/tomcat-apache.conf</code>   <li>In order to recognize &quot;index.jsp&quot; as a default page for web applications,      search in your &quot;httpd.conf&quot; for a &quot;DirectoryIndex&quot; directive. If you have      one, add &quot;index.jsp&quot; to the end of the list, so that it might look like this:<br>     <code>DirectoryIndex index.html index.jsp</code><br>     If you do not have such an entry, add one like this:<br>     <code>DirectoryIndex index.jsp</code>   <li>Restart Apache to make it aware of the new applications. You should now      be able to access the applications from a browser like this:<br>     <code>http://localhost/struts-documentation<br>     http://localhost/struts-example</code> </ul>   <hr>   <ul><li>Author: Craig R. McClanahan</ul>   <hr>   <p>Back to <a href="installation.html#Containers">Installation</a><br></p> </blockquote></td></tr></table> </body></td></tr><tr><td colspan="2"><hr></td></tr><tr><td colspan="2"><div align="center"><font color="#023264" size="-1"><em>         Copyright (c) 2000-2001, Apache Software Foundation         </em></font></div><img src="images/struts-power.gif" align="right" border="0"></td></tr></table></body></html>