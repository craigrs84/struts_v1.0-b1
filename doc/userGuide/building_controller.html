<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html><head><meta name="author" content="Craig R. McClanahan"><title>The Struts User's Guide - Building Controller Components</title></head><body bgcolor="#ffffff" text="#000000" link="#023264" alink="#023264" vlink="#023264"><table border="0" width="100%" cellspacing="5"><tr><td colspan="2"><a href="http://jakarta.apache.org"><img src="../images/jakarta-logo.gif" align="left" border="0"></a><img src="../images/struts.gif" align="right" border="0"></td></tr><tr><td colspan="2"><hr></td></tr><tr><td width="120" valign="top"><project href="http://jakarta.apache.org/struts/userGuide" image="../images/struts.gif" name="Struts User's Guide">      <title>Struts User's Guide</title>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Quick Links</strong></font></th></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="../index.html">Home</a></font></td></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="index.html">Table of Contents</a></font></td></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="introduction.html">Introduction</a></font></td></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="building_model.html">Model Components</a></font></td></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="building_view.html">View Components</a></font></td></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="building_controller.html">Controller Components</a></font></td></tr>       <tr><td align="center" width="15"></td><td><font size="-1"><a href="resources.html">Resources</a></font></td></tr>     </table>  </project></td><td valign="top"><body>     <a name="building_controller"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4. Building Controller Components</strong></font></td></tr></table><a name="overview"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.1 Overview</strong></font></td></tr><tr><td><blockquote>                  <p>           Now that we understand how to construct the Model and View components         of your application, it is time to focus on the <code>Controller</code>         components.  Struts includes a servlet that implements the primary function         of mapping a request URI to an <code>Action</code> class.  Therefore, your         primary responsibilities related to the Controller are:       </p>              <ul>         <li>Write an <code>Action</code> class (that is, an extension of the             <code>Action</code> class) for each logical request             that may be received.         <li>[Optionally] Write an <code>ActionMapping</code> class (that is, an            extension of the <code>ActionMapping</code> class) that defines the class            names and other information associated with each possible mapping.         <li>Write the action mapping configuration file (in XML) that is used             to configure the controller servlet.         <li>Update the web application deployment descriptor file (in XML)             for your application to include the necessary Struts components.         <li>Add the appropriate Struts components to your application.       </ul>     </blockquote></td></tr></table><a name="action_classes"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.2 Action Classes</strong></font></td></tr><tr><td><blockquote>              <p>The <code>Action</code> class defines two methods that could be         executed depending on your servlet environment:       </p>  <pre>
public ActionForward perform(ActionMapping mapping,
                             ActionForm form,
                             ServletRequest request,
                             ServletResponse response)
  throws IOException, ServletException;

public ActionForward perform(ActionMapping mapping,
                             ActionForm form,
                             HttpServletRequest request,
                             HttpServletResponse response)
  throws IOException, ServletException;
</pre>              <p>         Most people would only use the &quot;HttpServletRequest&quot; version.        </p>       <p>         The goal of an <code>Action</code> class is to process this request,         and then to return an <code>ActionForward</code> object that identifies         the JSP page (if any) to which control should be forwarded to generate         the corresponding response.  In the <i>MVC/Model 2</i> design pattern,         a typical <code>Action</code> class will implement the following         logic in its <code>perform()</code> method:       </p>       <ul>         <li>Validate the current state of the user's session (for example, checking             that the user has successfully logged on).  If the <code>Action</code>             class finds that no logon exists, the request should be forwarded to             the JSP page that displays the username and password prompts for             logging on.  This could occur because a user tried to enter your             application &quot;in the middle&quot; (say, from a bookmark), or because the             session has timed out, and the servlet container created a new one.         <li>If validation has not yet occurred,             validate the form bean properties as necessary.  If a problem is found,             store the appropriate error message keys as a request attribute, and             forward control back to the input form so that the errors can be             corrected.         <li>Perform the processing required to deal with this request (such as             saving a row into a database).  This can be done by code embedded within             the <code>Action</code> class itself, but should generally be performed             by calling an appropriate method of a business logic bean.         <li>Update the server-side objects that will be used to create the next             page of the user interface (typically request scope or session scope             beans, depending on how long you need to keep these items available).         <li>Return an appropriate <code>ActionForward</code> object that identifies             the JSP page to be used to generate this response, based on the newly             updated beans.  Typically, you will acquire a reference to such an             object by calling <code>findForward()</code> on either the             <code>ActionMapping</code> object you received (if you are using a             logical name local to this mapping), or on the controller servlet             itself (if you are using a logical name global to the application).       </ul>                <p>         Design issues to remember when coding <code>Action</code> classes         include the following:       </p>              <ul>         <li>The controller servlet creates only one instance of your             <code>Action</code> class, and uses it for all requests.  Thus,             you need to code your <code>Action</code> class so that it operates             correctly in a multi-threaded environment, just as you must code a             servlet's <code>service()</code> method safely.         <li>The most important principle that aids in thread-safe coding is to             use only local variables, not instance variables, in your             <code>Action</code> class.  Local variables are created on a             stack that is assigned (by your JVM) to each request thread, so             there is no need to worry about sharing them.         <li>The beans that represent the Model of your system may throw exceptions             due to problems accessing databases or other resources.             You should trap all such exceptions             in the logic of your <code>perform()</code> method, and log them to the             application logfile (along with the corresponding stack trace) by             calling:<br>             <code>servlet.log(&quot;Error message text&quot;, exception);</code>         <li>As a general rule, allocating scarce resources and keeping them across             requests from the same user (in the user's session) can cause             scalability problems.  You should strive to release such resources             (such as database connections) prior to forwarding control to the             appropriate View component -- even if a bean method you have called             throws an exception.       </ul>                <p>         In addition, you will want to guard against <code>Action</code> classes         that are too large.  The easiest way for this to happen is to embed your         functional logic in the <code>Action</code> class itself, rather than         coding it in separate business logic beans.  Besides making the         <code>Action</code> class itself hard to understand and maintain, this         approach also makes it harder to re-use the business logic code, because         it is embedded inside a component (the <code>Action</code> class) that         is tied to being executed in a web application environment.       </p>                <p>         The example application included with Struts stretches this design         principle somewhat, because the business logic itself is embedded in the         <code>Action</code> classes.  This should be considered something of a         bug in the design of the sample application, rather than an intrinsic         feature of the Struts architecture, or an approach to be emulated.       </p>     </blockquote></td></tr></table><a name="actionmapping"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.3 The ActionMapping Implementation</strong></font></td></tr><tr><td><blockquote>              <p>         In order to operate successfully, the Struts controller servlet needs         to know several things about how each request URI should be mapped to an         appropriate <code>Action</code> class.  The required knowledge has been         encapsulated in a Java interface named <code>ActionMapping</code>, the most         important properties are as follows:       </p>              <ul>         <li><b>type</b> - Fully qualified Java class name of the           <code>Action</code> implementation class used by this mapping.         <li><b>name</b> - The name of the form bean defined in the config file           that this action will use         <li><b>path</b> - The request URI path that is matched to select this             mapping.  See below for examples of how matching works.                      <li><b>unknown</b> - Set to <code>true</code> if this action           should be configured as the default for this application, to handle           all requests not handled by another action.  Only one action can be           defined as a default within a single application.         <li><b>validate</b> - Set to <code>true</code> if the           <code>validate()</code> method of the action associated           with this mapping should be called.       </ul>                     </blockquote></td></tr></table><a name="config"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.4 The Action Mappings Configuration File</strong></font></td></tr><tr><td><blockquote>              <p>         How does the controller servlet learn about the mappings you want?  It         would be possible (but tedious) to write a small Java class that simply         instantiated new <code>ActionMapping</code> instances, and called all of         the appropriate setter methods.  To make this process easier, Struts includes         a Digester module that is capable of reading an XML-based description of         the desired mappings, creating the appropriate objects along the way.         See the <a href="../api/index.html">API documentation</a> for more information         about Digester.       </p>                <p>         The developer's responsibility is to create an XML file named         <code>struts-config.xml</code>, and place it in the WEB-INF directory of your         application. This format of this document is constrained by it's definition in          &quot;struts-config_1_0.dtd&quot;.  The outermost XML element must be <code>&lt;struts-config&gt;</code>.              </p>              <p>         Inside of the &lt;struts-config&gt; element, there two important elements that use         to describe your actions:                  <blockquote>           <b>&lt;form-beans&gt;</b><br>             This section contains your form bean definitions.  You use a &lt;form-bean&gt; element             for each form bean, which has the following important attributes:             <ul>               <li>                 <b>name</b>: The name of the request or session level attribute that this form                 bean will be stored as                              <li>                 <b>type</b>: The fully-qualified Java classname of your form bean                            </ul>         </blockquote>         <blockquote>           <b>&lt;action-mappings&gt;</b><br>             This section contains your action definitions.  You use an &lt;action&gt; element             for each of your actions you would like to define.  Each action element has requires             the following attributes to be defined:                          <ul>               <li>                 <b>path</b>: The application context-relative path to the action                              <li>                 <b>type</b>: The fully qualified java classname of your Action class                              <li>                 <b>name</b>: The name of your &lt;form-bean&gt; element to use with this action                            </ul>           </blockquote>                </p>                <p>         The <code>struts-config.xml</code> file from the example application includes         the following mapping entry for the &quot;log on&quot; function, which we will use         to illustrate the requirements.  Note that the entries for all the other actions         are left out:       </p>  <pre>
&lt;struts-config&gt;
  &lt;form-beans&gt;
    &lt;form-bean
      name=&quot;logonForm&quot;
      type=&quot;org.apache.struts.example.LogonForm&quot; /&gt;
  &lt;/form-beans&gt;      
  &lt;global-forwards
      type=&quot;org.apache.struts.action.ActionForward&quot; /&gt;
    &lt;forward name=&quot;logon&quot; path=&quot;/logon.jsp&quot;
         redirect=&quot;false&quot; /&gt; 
  &lt;/global-forwards&gt;      
  &lt;action-mappings&gt;     
    &lt;action
        path=&quot;/logon&quot; 
        type=&quot;org.apache.struts.example.LogonAction&quot;
        name=&quot;logonForm&quot;
       scope=&quot;request&quot;
       input=&quot;/logon.jsp&quot;
     unknown=&quot;false&quot;
    validate=&quot;true&quot; /&gt;          
  &lt;/action-mappings&gt;
&lt;/struts-config&gt;
</pre>              <p>         First the form bean is defined.  A basic bean of class &quot;<code>org.apache.struts.example.LogonForm</code>&quot;         is mapped to the logical name &quot;<code>logonForm</code>&quot;.  This name is used as a session or request attribute         name for the form bean.       </p>       <p>         The &quot;<code>global-forwards</code>&quot; section is used to create logical name mappings between commonly used         jsp pages.  Each of these forwards is available through a call to your action mapping instance,         i.e. <code>actionMappingInstace.findForward(&quot;logicalName&quot;)</code>.       </p>       <p>         As you can see, this mapping matches the path <code>/logon</code> (actually,         because the example application uses extension mapping, the request URI you         specify in a JSP page would end in <code>/logon.do</code>).  When a request         that matches this path is received, an instance of the <code>LogonAction</code>         class will be created (the first time only) and used.  The controller servlet         will look for a session scoped bean under key <code>logonForm</code>, creating         and saving a bean of the specified class if needed.       </p>       <p>         An optional but very useful section is the local &quot;local <code>forwards</code>&quot;. In the example          application, many actions include a local &quot;success&quot; and/or &quot;failure&quot; forward as          part of an Action mapping.        </p> <pre>
&lt;!-- Edit mail subscription --&gt;
&lt;action    path=&quot;/editSubscription&quot;
  type=&quot;org.apache.struts.example.EditSubscriptionAction&quot;
  name=&quot;subscriptionForm&quot;
  scope=&quot;request&quot;
  validate=&quot;false&quot;&gt;
  &lt;forward name=&quot;failure&quot; path=&quot;/mainMenu.jsp&quot;/&gt;
  &lt;forward name=&quot;success&quot; path=&quot;/subscription.jsp&quot;/&gt;
  &lt;/action&gt;
</pre>           <p>Using just these two extra properties, the <code>Action</code> classes in the example          application are almost totally independent of the actual names of the JSP pages          that are used by the page designers. The pages can be renamed (for example) during          a redesign, with negligible impact on the <code>Action</code> classes themselves.           If the names of the &quot;next&quot; JSP pages were hard coded into the <code>Action</code>          classes, all of these classes would also need to be modified. Of course, you can define         whatever local forward properties makes sense for your own application.       </p>                <p>         One more section of good use is the <code>&lt;data-sources&gt;</code> section, which          specifies data sources that your application can use.This is how you would specify a basic data source for your application inside         of struts-config.xml:       </p>  <pre>
&lt;struts-config&gt;
  &lt;data-sources&gt;
    &lt;data-source
      autoCommit=&quot;false&quot;
     description=&quot;Example Data Source Description&quot;
     driverClass=&quot;org.postgresql.Driver&quot;
        maxCount=&quot;4&quot;
        minCount=&quot;2&quot;
        password=&quot;mypassword&quot;
             url=&quot;jdbc:postgresql://localhost/mydatabase&quot;
            user=&quot;myusername&quot;/&gt;
  &lt;/data-sources&gt;
&lt;/struts-config&gt;
</pre>        <p>         For information on how to retrieve the data source, see the          <a href="building_model.html#databases">Accessing Relational Databases</a> section.         </p>     </blockquote></td></tr></table><a name="dd_config"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.5 The Web Application Deployment Descriptor</strong></font></td></tr><tr><td><blockquote>              <p>         The final step in setting up the application is to configure the application         deployment descriptor (stored in file <code>WEB-INF/web.xml</code>) to include         all the Struts components that are required.  Using the deployment descriptor         for the example application as a guide, we see that the following entries need         to be created or modified.       </p>              <a name="dd_config_servlet"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.5.1 Configure the Action Servlet Instance</strong></font></td></tr><tr><td><blockquote>                  <p>           Add an entry defining the action servlet itself, along with the appropriate           initialization parameters.  Such an entry might look like this:         </p>  <pre>
&lt;servlet&gt;
  &lt;servlet-name&gt;action&lt;/servlet-name&gt;
  &lt;servlet-class&gt;
    org.apache.struts.action.ActionServlet
  &lt;/servlet-class&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;application&lt;/param-name&gt;
    &lt;param-value&gt;
      org.apache.struts.example.ApplicationResources
    &lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;config&lt;/param-name&gt;
    &lt;param-value&gt;
      /WEB-INF/struts-config.xml
    &lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;debug&lt;/param-name&gt;
    &lt;param-value&gt;2&lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;init-param&gt;
    &lt;param-name&gt;mapping&lt;/param-name&gt;
    &lt;param-value&gt;
      org.apache.struts.example.ApplicationMapping
    &lt;/param-value&gt;
  &lt;/init-param&gt;
  &lt;load-on-startup&gt;2&lt;/load-on-startup&gt;
&lt;/servlet&gt;
</pre>                  <p>           The initialization parameters supported by the controller servlet are           described below. (You can also find these details in the <a href="../api/index.html">Javadocs</a> for the ActionServlet class.) Square brackets            describe the default values that are assumed if you do not provide a value for            that initialization parameter.         </p>         <ul>              <li><strong>application</strong> - Java class name of the application                resources bundle base class.  [NONE]           <li><strong>bufferSize</strong> - The size of the input buffer used when                processing file uploads.  [4096]           <li><strong>config</strong> - Context-relative path to the XML resource               containing our configuration information.               [/WEB-INF/struts-config.xml]           <li><strong>content</strong> - Default content type and character encoding               to be set on each response; may be overridden by a forwarded-to               servlet or JSP page.  [text/html]           <li><strong>debug</strong> - The debugging detail level for this               servlet, which controls how much information is logged.  [0]           <li><strong>detail</strong> - The debugging detail level for the Digester               we utilize in <code>initMapping()</code>, which logs to System.out               instead of the servlet log.  [0]           <li><strong>factory</strong> - The Java class name of the               <code>MessageResourcesFactory</code> used to create the application               <code>MessageResources</code> object.           <li><strong>formBean</strong> - The Java class name of the ActionFormBean               implementation to use [org.apache.struts.action.ActionFormBean].           <li><strong>forward</strong> - The Java class name of the ActionForward               implementation to use [org.apache.struts.action.ActionForward].               Two convenient classes you may wish to use are:               <ul>               <li><em>org.apache.struts.action.ForwardingActionForward</em> -                   Subclass of <code>org.apache.struts.action.ActionForward</code>                   that defaults the <code>redirect</code> property to                   <code>false</code> (same as the ActionForward default value).               <li><em>org.apache.struts.action.RedirectingActionForward</em> -                   Subclass of <code>org.apache.struts.action.ActionForward</code>                   that defaults the <code>redirect</code> property to                   <code>true</code>.               </ul>           <li><strong>locale</strong> - If set to <code>true</code>, and there is a               user session, identify and store an appropriate               <code>java.util.Locale</code> object (under the standard key               identified by <code>Action.LOCALE_KEY</code>) in the user's session               if there is not a Locale object there already.           <li><strong>mapping</strong> - The Java class name of the ActionMapping               implementation to use [org.apache.struts.action.ActionMapping].               Two convenient classes you may wish to use are:               <ul>               <li><em>org.apache.struts.action.RequestActionMapping</em> - Subclass                   of <code>org.apache.struts.action.ActionMapping</code> that                   defaults the <code>scope</code> property to &quot;request&quot;.               <li><em>org.apache.struts.action.SessionActionMapping</em> - Subclass                   of <code>org.apache.struts.action.ActionMapping</code> that                   defaults the <code>scope</code> property to &quot;session&quot;.  (Same                   as the ActionMapping default value).               </ul>           <li><strong>maxFileSize</strong> - The maximum size (in bytes) of a file               to be accepted as a file upload.  Can be expressed as a number followed               by a &quot;K&quot; &quot;M&quot;, or &quot;G&quot;, which are interpreted to mean kilobytes,               megabytes, or gigabytes, respectively.  [250M]           <li><strong>multipartClass</strong> - The fully qualified name of the               MultiplartRequestHandler implementation class to be used for processing               file uploads.  [org.apache.struts.upload.DiskMultipartRequestHandler]                          <li><strong>nocache</strong> - If set to <code>true</code>, add HTTP headers               to every response intended to defeat browser caching of any response we               generate or forward to.  [false]           <li><strong>null</strong> - If set to <code>true</code>, set our application               resources to return <code>null</code> if an unknown message key is used.               Otherwise, an error message including the offending message key will               be returned.  [true]           <li><strong>tempDir</strong> - The temporary working directory to use when               processing file uploads.  [The working directory provided to this web               application as a servlet context attribute]           <li><strong>validate</strong> - Are we using the new configuration file               format?  [true]           </ul>       </blockquote></td></tr></table>              <a name="dd_config_mapping"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.5.2 Configure the Action Servlet Mapping</strong></font></td></tr><tr><td><blockquote>                <p>           There are two common approaches to defining the URLs that will           be processed by the controller servlet -- prefix matching and extension           matching.  An appropriate mapping entry for each approach will be           described below.         </p>                    <p>           Prefix matching means that you want all URLs that start (after the context           path part) with a particular value to be passed to this servlet.  Such an           entry might look like this:         </p>  <pre>
  &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;action&lt;/servlet-name&gt;
     &lt;url-pattern&gt;/execute/*&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;
</pre>                  <p>           which means that a request URI to match the <code>/logon</code> path           described earlier might look like this:</p>  <pre>
http://www.mycompany.com/myapplication/execute/logon
</pre>          <p>           where <code>/myapplication</code> is the context path under which your           application is deployed.         </p>                    <p>           Extension mapping, on the other hand, matches request URIs to the action           servlet based on the fact that the URI ends with a period followed by a           defined set of characters.  For example, the JSP processing servlet is mapped           to the <code>*.jsp</code> pattern so that it is called to process every           JSP page that is requested.  To use the <code>*.do</code> extension (which           implies &quot;do something&quot;), the mapping entry would look like this:         </p>  <pre>
  &lt;servlet-mapping&gt;
     &lt;servlet-name&gt;action&lt;/servlet-name&gt;
     &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;
   &lt;/servlet-mapping&gt;
</pre>                  <p>           and a request URI to match the <code>/logon</code> path described           earlier might look like this:         </p>  <pre>
http://www.mycompany.com/myapplication/logon.do
</pre>       </blockquote></td></tr></table>              <a name="dd_config_taglib"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.5.3 Configure the Struts Tag Library</strong></font></td></tr><tr><td><blockquote>                  <p>           Next, you must add an entry defining the Struts tag library.  There are currently four           taglibs that struts is packaged with.         </p>         <p>           The struts-bean taglib contains tags useful in accessing           beans and their properties, as well as defining new beans (based on these accesses) that are           accessible to the remainder of the page via scripting variables and page scope attributes.           Convenient mechanisms to create new beans based on the value of request cookies, headers,            and parameters are also provided.         </p>         <p>           The struts-html taglib contains tags used to create struts input forms, as well as other           tags generally useful in the creation of HTML-based user interfaces.         </p>         <p>           The struts-logic taglib contains tags that are useful in managing conditional generation           of output text, looping over object collections for repetitive generation of output text,           and application flow management.         </p>         <p>           The struts-template taglib contains tags that define a template mechanism.         </p>                  <p>           Below is how you would define all taglibs for use within your application,           in reality you would only specify the taglib's that your application will use:         </p>  <pre>
&lt;taglib&gt;
  &lt;taglib-uri&gt;
    /WEB-INF/struts-bean.tld
  &lt;/taglib-uri&gt;
  &lt;taglib-location&gt;
    /WEB-INF/struts-bean.tld
  &lt;/taglib-location&gt;
&lt;/taglib&gt;
&lt;taglib&gt;
  &lt;taglib-uri&gt;
    /WEB-INF/struts-html.tld
  &lt;/taglib-uri&gt;
  &lt;taglib-location&gt;
    /WEB-INF/struts-html.tld
  &lt;/taglib-location&gt;
&lt;/taglib&gt;
&lt;taglib&gt;
  &lt;taglib-uri&gt;
    /WEB-INF/struts-logic.tld
  &lt;/taglib-uri&gt;
  &lt;taglib-location&gt;
    /WEB-INF/struts-logic.tld
  &lt;/taglib-location&gt;
&lt;/taglib&gt;
&lt;taglib&gt;
  &lt;taglib-uri&gt;
    /WEB-INF/struts-template.tld
  &lt;/taglib-uri&gt;
  &lt;taglib-location&gt;
    /WEB-INF/struts-template.tld
  &lt;/taglib-location&gt;
&lt;/taglib&gt;
</pre>          <p>           This tells the JSP system where to find the tag library descriptor           for this library (in your application's WEB-INF directory, instead of           out on the Internet somewhere).         </p>       </blockquote></td></tr></table>              <a name="config_add"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>4.5.4 Add Struts Components To Your Application</strong></font></td></tr><tr><td><blockquote>                  <p>           To use struts, you must copy the .tld files that you require into your           WEB-INF directory, and copy struts.jar into your WEB-INF/lib directory.         </p>                                 <p>                                         Next: <a href="resources.html">Struts Resources</a>                                 </p>       </blockquote></td></tr></table>     </blockquote></td></tr></table>   </body></td></tr><tr><td colspan="2"><hr></td></tr><tr><td colspan="2"><div align="center"><font color="#023264" size="-1"><em>         Copyright (c) 2000-2001, Apache Software Foundation         </em></font></div><img src="../images/struts-power.gif" align="right" border="0"></td></tr></table></body></html>