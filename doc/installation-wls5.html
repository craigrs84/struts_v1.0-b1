<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html><head><meta name="author" content="Robert Hayden"><title>The Struts Framework Project - Installation - Weblogic 5.1 sp8</title></head><body bgcolor="#ffffff" text="#000000" link="#023264" alink="#023264" vlink="#023264"><table border="0" width="100%" cellspacing="5"><tr><td colspan="2"><a href="http://jakarta.apache.org"><img src="images/jakarta-logo.gif" align="left" border="0"></a><img src="images/struts.gif" align="right" border="0"></td></tr><tr><td colspan="2"><hr></td></tr><tr><td width="120" valign="top"><project href="http://jakarta.apache.org/struts" image="images/struts.gif" name="Struts Framework">      <title>Struts Framework</title>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Documentation</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="index.html">Home</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="installation.html">Installation</a></font></td></tr>  <tr><td align="center" width="15"></td><td><font size="-1"><a href="userGuide/index.html">User Guide (1.0)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/index.html">Javadoc</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="release.html">Release Notes (1.0b1)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="userGuide/resources.html">Resources</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="todo-1.1.html">TODO List (1.1)</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Java Developer Guides</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/digester/package-summary.html#package_description">Digester</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/util/package-summary.html#package_description">Utilities</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Tag Library Guides</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/bean/package-summary.html#package_description">Bean Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/html/package-summary.html#package_description">HTML Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/logic/package-summary.html#package_description">Logic Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/template/package-summary.html#package_description">Template Tags</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Tag Library Reference</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-bean.html">Bean Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-html.html">HTML Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-logic.html">Logic Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-template.html">Template Tags</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Old Documents</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="tags.html">Tag Library (Old)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="users_guide.html">User's Guide (Old)</a></font></td></tr>     </table>  </project></td><td valign="top"><body>  <a name="Containers"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>Installing Struts with your servlet container</strong></font></td></tr><tr><td><blockquote>   <h3><a name="wls5">Weblogic 5.1 (service pack 8)</a></h3> <ul>   <li>Obtain and install the Xerces XML parser (problems have been reported with      the Sun reference implementation). Put xerces.jar in your WebLogic system      path.   <li>Obtain and unpack the Struts binary distribution (this procedure assumes      it was extracted to <code>c:\jakarta-struts</code>).   <li>Add an entry to weblogic.properties for each of the Struts web applications      that you would like to configure. For example, to make the struts-example      application available, add the following line to weblogic.properties:<br>     <code>weblogic.httpd.webApp.strutsexample=<br>     c:/jakarta-struts/webapps/struts-example.war</code>   <li>You do not need to include struts.jar or any of the application specific      classes in the WebLogic classpath, since this will be done automatically (unless      deploying an unpacked web archive- see below).   <li>Start WebLogic server and point your web browser to the struts application.      For example, to connect to the example application added in step 3:<br>     <code>http://localhost:7001/strutsexample</code>   <li>This example application depends on the Struts specific resource file ApplicationResources.properties      to be present on the classpath. However, WebLogic only extracts *.class files      from the archive so this file will not be found, resulting in an error the      first time it is needed- something similar to: javax.servlet.ServletException:      runtime failure in custom tag 'message'. Steps 6 &amp; 7 will need to be performed      for this application, and any other that relies on ApplicationResources.properties.   <li>Extract ApplicationResources.properties from the *.war file, and manually      copy it to the respective package in the _tmp_war_ directory WebLogic created      for this application. Again referring to the struts-example application, this      would be:<br>     <code>c:\jakarta-struts\webapps\WEB-INF\_tmp_war_strutsexample</code>   <li>Restart WebLogic. You will now be able to run the application:<br>     <code>http://localhost:7001/strutsexample</code> </ul> <p>The above steps should be followed for applications deployed as *.war files.    For unpacked web applications, configuration involves adding both <code>struts.jar</code>    and <code>/WEB-INF/classes</code> to the WebLogic classpath. For this reason,    I would suggest deploying applications as war files to WebLogic. However, the    same example application can be successfully deployed in extracted format by    modifying weblogic.properties (assuming the war was extracted to directory webapps/struts-example):<br></p> <p><code>weblogic.httpd.webApp.strutsexample=<br>   c:/jakarta-struts/webapps/struts-example/</code><br></p> <p>And starting WebLogic with the updated WebLogic classpath. For example:<br></p> <p><code>c:\jdk1.3\bin\java -ms16m -mx64m<br>   -classpath c:\weblogic\lib\weblogic510sp8boot.jar;</code><br></p>   <hr>   <h4>Additional Recommendations</h4>   <ul>   <li>Servlet and JSP-Reloading should be turned off. First, you pay a performance      penalty. Depending on the number of JSPs, the number of requests and the   configured checking interval, the server will slow down. Second, with JSP- and   Servlet reloading, one opens the door for various Weblogic classloader problems,   that are difficult to diagnose, difficult to handle and often lead to lost   HTTP-sessions.   <li>Set the name of the <code>sessionid</code> to <code>JSESSIONID</code>, if cookies are used for session      tracking and to jsessionid, if sessions are URL-based. (There are additional   problems related to URL-based sessions, caused from BEA's way to encode the session   id (J2EE-incompatible) as query-param. Especially &lt;bean:include&gt; will not work with   URL-based sessions yet. However, using the correct session name solves at least some   problems.)   <li>Configure the JSP-Servlet registration in <code>weblogic.properties</code> for      maximum J2EE-compliance and/or for maximum performance.</ul>   <p>The JSP-Servlet supports some initialization parameters that can be customized to get      best performance, maximum compliance or (as shown below) easier debugging:<br></p> <pre>
  weblogic.httpd.initArgs.*.jsp=\
       pageCheckSeconds=-1,\
        setEmptyStrings=false,\
         compileCommand=./_jspCompiler_.cmd,\
             workingDir=/weblogic/myserver/tmp_classfiles,\
          keepgenerated=true,\
                  debug=true,\
                verbose=true
</pre> <p>In the above example, the batch file (<code>_jspCompiler_.cmd</code>) invokes jikes     which results dramatically reduced startup times (jikes is about three times faster     than javac.) The batchfile contains only a single line:<br></p>  <pre>@jikes -g -nowarn %*</pre>  <p>The next configuration could be used when all tests have been done and speed is the  major concern ...<br></p>  <pre>  
  weblogic.httpd.initArgs.*.jsp=\
       pageCheckSeconds=-1,\
        setEmptyStrings=false,\
         compileCommand=./_jspCompiler_.cmd,\
             workingDir=/weblogic/myserver/tmp_classfiles,\
          keepgenerated=false,\
                  debug=false,\
                verbose=false
</pre>  <p>... together with ...<br></p>  <pre>@jikes -O -nowarn %*</pre>  <p>Weblogic supports similar settings through <code>&lt;context-params&gt;</code> in <code>web.xml</code> (Please read the latest documentation at the BEA website for details.)<br></p> <p>For additional issues, see also <a href="http://www.mail-archive.com/struts-dev@jakarta.apache.org/msg00284.html">More  fixes for WLS 5.1 SP8</a> from the Struts Developer mailing list<br></p> <hr>     <ul>     <li>Author: Robert Hayden     <li>Author: Wong Kok Kai     <li>Author: Matthias Kerkhoff    </ul>   <hr>     <p>Back to <a href="installation.html#Containers">Installation</a><br></p> </blockquote></td></tr></table> </body></td></tr><tr><td colspan="2"><hr></td></tr><tr><td colspan="2"><div align="center"><font color="#023264" size="-1"><em>         Copyright (c) 2000-2001, Apache Software Foundation         </em></font></div><img src="images/struts-power.gif" align="right" border="0"></td></tr></table></body></html>