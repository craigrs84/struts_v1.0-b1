<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/WD-html-in-xml/DTD/xhtml1-strict.dtd">
<html><head><meta name="author" content="Eric Wu"><title>The Struts Framework Project - Installation - JRun 3.0</title></head><body bgcolor="#ffffff" text="#000000" link="#023264" alink="#023264" vlink="#023264"><table border="0" width="100%" cellspacing="5"><tr><td colspan="2"><a href="http://jakarta.apache.org"><img src="images/jakarta-logo.gif" align="left" border="0"></a><img src="images/struts.gif" align="right" border="0"></td></tr><tr><td colspan="2"><hr></td></tr><tr><td width="120" valign="top"><project href="http://jakarta.apache.org/struts" image="images/struts.gif" name="Struts Framework">      <title>Struts Framework</title>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Documentation</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="index.html">Home</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="installation.html">Installation</a></font></td></tr>  <tr><td align="center" width="15"></td><td><font size="-1"><a href="userGuide/index.html">User Guide (1.0)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/index.html">Javadoc</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="release.html">Release Notes (1.0b1)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="userGuide/resources.html">Resources</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="todo-1.1.html">TODO List (1.1)</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Java Developer Guides</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/digester/package-summary.html#package_description">Digester</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/util/package-summary.html#package_description">Utilities</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Tag Library Guides</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/bean/package-summary.html#package_description">Bean Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/html/package-summary.html#package_description">HTML Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/logic/package-summary.html#package_description">Logic Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="api/org/apache/struts/taglib/template/package-summary.html#package_description">Template Tags</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Tag Library Reference</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-bean.html">Bean Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-html.html">HTML Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-logic.html">Logic Tags</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="struts-template.html">Template Tags</a></font></td></tr>     </table>      <table border="0" cellspacing="5"><tr><th colspan="2" align="left"><font color><strong>Old Documents</strong></font></th></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="tags.html">Tag Library (Old)</a></font></td></tr>         <tr><td align="center" width="15"></td><td><font size="-1"><a href="users_guide.html">User's Guide (Old)</a></font></td></tr>     </table>  </project></td><td valign="top"><body>  <a name="Containers"></a><table border="0" cellspacing="5" cellpadding="5" width="100%"><tr><td bgcolor="#023264"><font color="#ffffff" face="arial,helvetica,sanserif" size="+1"><strong>Installing Struts with your servlet container</strong></font></td></tr><tr><td><blockquote>   <h3><a name="jrun">JRUN 3.0 SP2A, VERSION 3.02A.11614</a></h3>  <b>Tested with: Microsoft IIS 5.0, Windows 2000</b>  <h4>Important Note:</h4>  <p>At the moment, JRun is not fully compliant with the JSP 1.1/1.2 specification. <br></p>  <p>Specifically, the automatic type conversions for custom tag parameters  specified in &quot;Issue  7&quot; of the JSP 1.1 Errata and in the JSP 1.2 Proposed  Final Draft have not yet been implemented.<br></p>  <p>As it stands, JSP pages that make use of Struts taglibs whose parameters require  conversion (such as booleans) will not compile under JRun. This  includes the Struts Example Application. Attempting to run the example  application will result in an exception similar to the following being  thrown:<br></p>  <pre>
/struts-example/index.jsp:

javax.servlet.ServletException: Compilation error occured: 

allaire.jrun.scripting.DefaultCFE: 

Errors reported by compiler:
c:/JRun/servers/default/Struts 
  Example/WEB-INF/jsp/jrun__index2ejspa.java:41:1:41:27: 

Error: No match was found for method &quot;setLocale(java.lang.String)&quot;.
</pre>  <p>(For more details see refer to:<br> <font size="-1"><a href="http://www.mail-archive.com/struts-user@jakarta.apache.org/msg01860.html">http://www.mail-archive.com/struts-user@jakarta.apache.org/msg01860.html</a></font>)<br></p>  <p>The following instructions describe how to install the Struts Example Application under JRun. A subsequent section describes how the Struts Example  Application can be patched to work with Struts<br></p>  <p>The following instructions assume the following:<br></p>  <ul> <li>JRun has been installed and integrated with the web server of choice.  <li>$APP_SERVER_NAME is the name of the application server used to host the    application.  (When JRun is first installed, it creates an application    server called JRun Default Server).  <li>$APP_SERVER_DIR is the directory used to hold applications hosted by    $APP_SERVER_NAME.  For the JRun Default Server, the directory is    $JRUN_HOME/servers/default where $JRUN_HOME is the directory where    JRun is installed. </ul>  <h4>Installing the struts example application</h4>  <ul> <li>Login to the JRun Management Console.  <li>On the left pane, select $APP_SERVER_NAME. A page showing the   current server status will be shown on the right pane.  <li>On the right pane, click on the WAR Deployment link. A page   containing a list of the currently deployed web applications will be    shown.  <li>On the right pane, click on Deploy an Application. Complete the Web    Application Information form as follows:      <ul>   <li>Servlet War File or Directory:  Enter the full path where       struts-example.war is found or click on Browse to select        the path.   <li>JRun Server Name:  $APP_SERVER_NAME   <li>Application Name:  Struts Example   <li>Application Hosts:  All Hosts   <li>Application URL:   /struts-example   <li>Application Deploy Directory:  will default to        $APP_SERVER_NAME/Struts Example (or the name as specified for        Application Name).   </ul>  <li>Once the form is complete, click on the Deploy button.  <li>If deployment is successful, restart the application server by   clicking on <code>$APP_SERVER_NAME</code> on the left pane. A page showing the    current server status will be shown on the right pane. Click the    Restart Server button to restart the application server.  <li>Test the sample application by using the following URL in the   browser:<br>     <code>http://hostname/struts-example/index.jsp</code><br>   The struts-documentation.war can be installed using the same    procedure. </ul>  <h4>Installing unpacked web applications</h4>  <p>The above steps should be followed for applications deployed as <code>*.war</code> files.<br></p>  <p>For unpacked web applications, configuration involves the following steps:<br></p>  <ul> <li>From the JRun Management Console, select <code>$APP_SERVER_NAME</code> (on the   left pane) and click on WAR Deployment (on the right pane).  <li>On the right pane, click on Create an Application and complete the   Web Application Information form as follows:  <li>JRun Server Name:  $APP_SERVER_NAME    <ul>   <li>Application Name:  myApplication   <li>Application Hosts:  All Hosts   <li>Application URL:   /myApplication   <li>Application Deploy Directory:  will default to<br>     <code>$APP_SERVER_NAME/myApplication</code>   </ul>  <li>Click on Create to submit the form.  <li>Once the web application is created, install and configure the struts   components (struts.jar, struts*.tld, etc) for the web application under    <code>$APP_SERVER_NAME/myApplication/WEB-INF</code>    <li>Install the remaining components of the application:  .class files,   JSP pages,.properties files etc  as required.  <li>To configure the extension mapping of the request URI (ie *.do) to   the action servlet, expand <code>$APP_SERVER_NAME</code> on the left pane, expand    the Web Applications branch and click on myApplication. The right pane    will display the configuration options for myApplication. Click on    Servlet URL Mappings. A list of existing mappings will be shown. Click    the Edit button and create the following entry:      <ul>   <li>Virtual Path/Extension:   *.do   <li>Servlet Invoked:  action   </ul>  <li>Click on the Update button to save the changes. <li>Restart the application server. <li>The application should now be accessible from the browser. </ul>  <p>The JRun application server will need to be restarted each time one of the following changes are made to the web application:<br></p>  <ul> <li><code>.class</code> or <code>.jar</code> files are modified <li><code>.properties</code> files are modified <li><code>.xml</code> files are modified </ul>  <h4>Patching the struts example application</h4>  <p>As mentioned at the beginning of these notes, the Struts Example Application will not run under JRun without modification.  The following changes will need  to be made:<br></p>  <ul> <li>index.jsp, logon.jsp: Change &lt;html:html locale=&quot;true&quot;&gt; to <br>&lt;html:html locale=&lt;%= true %&gt;&gt; <li>registration.jsp, subscription.jsp: Change all instances of filter=&quot;true&quot; to <br>filter=&lt;%= true %&gt; </ul>    <hr>   <ul><li>Author: Eric Wu</ul>   <hr>   <p>Back to <a href="installation.html#Containers">Installation</a><br></p> </blockquote></td></tr></table> </body></td></tr><tr><td colspan="2"><hr></td></tr><tr><td colspan="2"><div align="center"><font color="#023264" size="-1"><em>         Copyright (c) 2000-2001, Apache Software Foundation         </em></font></div><img src="images/struts-power.gif" align="right" border="0"></td></tr></table></body></html>